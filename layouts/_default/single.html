{{ define "main" }}
{{ $badge_class := "hover:text-gray-800 focus:text-gray-800 focus:outline-none transition" }}

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <meta itemprop="keywords" content='{{ .Render "post-metakeywords" }}'/>
  <meta itemprop="description" content="{{ .Description }}"/>
  <meta itemprop="author" content='{{ .Param "author" }}'/>
  <meta itemprop="publisher" content="{{ $.Site.Params.Publisher }}"/>

  <span class="hidden u-url">{{ .Permalink | absURL }}</span>
  <span class="hidden p-summary">{{ .Description }}</span>
  <span class="hidden p-author h-card">
    <a class="p-name u-url" href="https://kovah.de/">{{ $.Site.Params.Publisher }}</a>
  </span>

  <header>
    <div class="container">

      {{ partial "post/thumbnail.html" . }}

      <h1 class="font-special font-bold text-3xl lg:text-4xl p-name" itemprop="headline">{{ .Title }}</h1>

      <div class="mt-4 lg:mt-4 sm:flex text-gray-500 text-sm">
        <div class="flex">
          {{ range .Params.Categories }}
          <div class="mr-1">{{ i18n "category" . }}:</div>
          <div>
            <a href='{{ "/categories/" | relLangURL }}{{ . | urlize }}' class="{{ $badge_class }}">
             {{- . -}}
            </a>
          </div>
          {{ end }}
        </div>

        <div class="flex mt-2 sm:mt-0 sm:ml-4 lg:ml-6">
          {{ $list := .Params.Tags }}
          {{ $len := (len $list) }}
          {{ if gt $len 0 }}
            <div class="mr-1">{{ i18n "tags" . }}:</div>
            <div>
              {{ range $index, $element := $list }}
              <a href='{{ "/tags/" | relLangURL }}{{ . | urlize }}' class="{{ $badge_class }}">
                {{- $element -}}
              </a>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>

      <div class="mt-2 text-gray-500 text-sm">
        <span class="mr-4 lg:mr-6">{{ i18n "readtime" . }}</span>
        <time class="dt-published" datetime='{{.Date.Format "2006-01-02"}}' itemprop="datePublished">
          {{ i18n "published" }}: {{.Date.Format "2006-01-02"}}
        </time>
      </div>

    </div>
  </header>

  <section class="container mt-8 md:mt-10 lg:mt-16">

    <div class="prose prose-blue lg:prose-lg mx-auto e-content" itemprop="articleBody">
      {{ partial "post/translation-info.html" . }}
      {{ .Content }}
    </div>

  </section>

</article>

<section class="bg-blue-500 text-white mt-16 md:mt-20 lg:mt-24">
  <div class="container py-16 md:py-20 lg:py-24">

    {{ partial "post/sharing.html" . }}

    {{ partial "post/webmentions.html" . }}

  </div>
</section>

{{ end }}
