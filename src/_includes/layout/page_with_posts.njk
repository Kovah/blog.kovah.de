---
layout: layout/base.njk
# Use the below pattern
# pagination:
#  data: collections.posts_$LOCALE
#  size: 10
#  reverse: true
#  alias: posts
---

<div class="container">

  <div class="grid grid-cols-1 gap-12 lg:gap-16">
    {% for post in posts %}
      <article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting">
        <a href="{{ post.url | url }}" itemprop="url"
          class="block text-blue-500 hover:text-blue-800 focus:text-blue-800 transition">
          <h2 class="text-2xl lg:text-3xl font-special font-bold" itemprop="name">
            {%- if post.data.edition -%}
              Collection #{{ post.data.edition }}
            {%- else -%}
              {{ post.data.title }}
            {%- endif -%}
          </h2>
        </a>
        <div class="mt-2 text-gray-500 text-sm">
          <time datetime='{{ post.date | formatDate("yyyy-LL-dd HH:mm:ss.u", locale) }}' itemprop="datePublished">
            {{ site[locale]._t.published_on | replace(":date", post.date | formatDate("D", locale)) }}
          </time>
        </div>
        <p class="mt-3" itemprop="description">
          {%- if post.data.edition -%}
            {{ site[locale]._t.collection_description | replace(":edition", post.data.edition) }}
          {%- else -%}
            {{ post.data.description | safe }}
          {%- endif -%}
        </p>
      </article>
    {% endfor %}
  </div>

  <nav class="mt-12 lg:mt-20">

    {# Mobile pagination #}
    <ol class="flex justify-between sm:hidden">
      <li class="inline-block">
        {%- if pagination.href.previous -%}
          <a href="{{ pagination.href.previous }}"
            class="inline-block py-2 px-3 border rounded hover:bg-blue-50 focus:bg-blue-50"
          >{% include 'icons/angle-left.svg' %} {{ site[locale]._t.previous }}</a>
        {%- else -%}
          <span class="inline-block py-2 px-3 border rounded text-gray-500"
          >{% include 'icons/angle-left.svg' %} {{ site[locale]._t.previous }}</span>
        {%- endif -%}
      </li>
      <li class="inline-block">
        {%- if pagination.href.next -%}
          <a href="{{ pagination.href.next }}"
            class="inline-block py-2 px-3 border rounded hover:bg-blue-50 focus:bg-blue-50"
          >{{ site[locale]._t.next }} {% include 'icons/angle-right.svg' %}</a>
        {%- else -%}
          <span class="inline-block py-2 px-3 border rounded text-gray-500"
          >{{ site[locale]._t.next }} {% include 'icons/angle-right.svg' %}</span>
        {%- endif -%}
      </li>
    </ol>

    {# Desktop pagination #}
    <ol class="hidden sm:block text-center lg:text-lg">
      <li class="inline-block">
        {%- if pagination.href.previous -%}
          <a href="{{ pagination.href.previous }}"
            class="inline-block py-2 px-3 lg:py-3 lg:px-4 border border-r-0 rounded-l hover:bg-blue-50 focus:bg-blue-50"
          >{% include 'icons/angle-left.svg' %}</a>
        {%- else -%}
          <span
            class="inline-block py-2 px-3 lg:py-3 lg:px-4 border border-r-0 rounded-l text-gray-400">{% include 'icons/angle-left.svg' %}</span>
        {%- endif -%}
      </li>

      {%- for pageEntry in pagination | paginationPages(page) %}
        <li class="inline-block">
          {%- if page.url == pagination.hrefs[ loop.index ] -%}
            <span class="inline-block py-2 px-3 lg:py-3 lg:px-4 border border-r-0 text-gray-400"
              aria-current="page">{{ loop.index }}</span>
          {%- else -%}
            <a href="{{ pagination.hrefs[ loop.index ] }}"
              class="inline-block py-2 px-3 lg:py-3 lg:px-4 border border-r-0 hover:bg-blue-50 focus:bg-blue-50"
            >{{ loop.index }}</a>
          {%- endif -%}
        </li>
      {%- endfor %}

      <li class="inline-block">
        {%- if pagination.href.next -%}
          <a href="{{ pagination.href.next }}"
            class="inline-block py-2 px-3 lg:py-3 lg:px-4 border rounded-r hover:bg-blue-50 focus:bg-blue-50"
          >{% include 'icons/angle-right.svg' %}</a>
        {%- else -%}
          <span
            class="inline-block py-2 px-3 lg:py-3 lg:px-4 border  rounded-r text-gray-400">{% include 'icons/angle-right.svg' %}</span>
        {%- endif -%}
      </li>
    </ol>

  </nav>

</div>
